
<!DOCTYPE HTML>
<html lang="pl">
<head>
    <meta charset="utf-8" />
    <Title> Cameleon - Najlepszy portal! </title>
    <meta name= "description" content="Serwis prezentuje portal spolecznosciowy. Sprawdz go odrazu, nie zwlekaj" />
    <meta name= "keywords" content="portal, portal spolecznosciowy, znajomi, posty" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" type="text/css" href="style.css">

</head>

<body>

<header>

    <div>

    </div>

    <div>
        <nav>

        </nav>
    </div>

</header>

<main>
    <div id="posty">
        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Mam wlosy jak schafter!</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>

        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Kocham sie w rafale Golarzu</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>

        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Nasikalem duzemu na kolo w Peguocie</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>
        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Kocham kodzic </p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>
        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Trzymam male kotki w piwnicy</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>
        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post">Lubie jesc wegiel!</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button">Cameleon!</button>
            </form>
        </div>

        <div class="onePost">
            <p class="username">Rychu Patryka</p>
            <p class="post"> Kral ma porazenie mozgowe, wyslijscie sms o tresi Kral Nowy MUZG na numer 997112</p>
            <p class="postDate">20-10-2022 21:37:69</p>
            <p class="cameleons">10</p>
            <form>
                <button class="button"> Cameleon!</button>
            </form>
        </div>

         <script>
             fetch('http://localhost/portal/portal_spolecznosciowy/api/posts')
            .then(response => response.json())
            .then(data => {
            console.log(data)

        const posts = document.getElementById("posty")

            data.forEach(element => {
            let onePost = document.createElement('div')
            posts.append(onePost)
            onePost.classList.add('onePost')

            let user = document.createElement('p')
            onePost.append(user)
            user.classList.add('username')
            user.innerHTML = element.name + " " + element.surname

            let post = document.createElement('p')
            onePost.append(post)
            post.classList.add('post')
            post.innerHTML = element.post

            let postDate = document.createElement('p')
            onePost.append(postDate)
            postDate.classList.add('postDate')
            postDate.innerHTML = element.postDate

            let cameleons = document.createElement('p')
            onePost.append(cameleons)
            cameleons.classList.add('cameleons')
            cameleons.innerHTML = element.cameleons

            let cameleonsForm = document.createElement('form')
            cameleonsForm.action = 'posts/cameleons.php'
            cameleonsForm.method = 'POST'
            onePost.append(cameleonsForm)

            let cameleonBtn = document.createElement('button')
            cameleonBtn.name = element.postId
            cameleonBtn.textContent = 'Cameleon!'
            cameleonsForm.append(cameleonBtn)
        })
    })
        </script>
    </div>
</main>

<script>

</script>

</body>
</html>
